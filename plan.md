# 프로젝트 계획

## 목표
- MVP 기능을 빠르게 검증
- 사용자 피드백을 바탕으로 매칭/데이터 확장

## 단기 계획 (1주일 이내)

| 우선순위 | 작업명 | 상세 설명 | 예상 시작일 | 완료 목표일 | 예상 소요 시간 / 난이도 | 필요한 리소스/도구 | 선행 작업 및 의존성 |
| --- | --- | --- | --- | --- | --- | --- | --- |
| P1 | 치과대학 데이터 67개 확장 | 학교명/도시/주/우편번호/전화/웹사이트 필수 필드 완비 | 2026-01-27 | 2026-02-02 | 3~5일 / 중간 | 수작업 리서치, 데이터 보강 UI, JSON 편집 | 검증 리포트/내보내기 기능 완료 |
| P1 | 우편번호 기반 거리 계산 개선 | 우편번호 좌표 매핑 정확도 개선 및 예외 처리 강화 | 2026-01-29 | 2026-02-03 | 2일 / 중간 | 좌표 데이터 소스, JavaScript | 없음 |
| P2 | 협상 대본 A/B 템플릿 추가 | 상황별 문장 변형을 추가해 출력 다양성 확보 | 2026-01-30 | 2026-02-02 | 2일 / 낮음 | JavaScript, 카피라이팅 | 기존 대본 구조 개선 완료 |

## 중기 계획 (1개월 이내)

| 우선순위 | 작업명 | 상세 설명 | 예상 시작일 | 완료 목표일 | 예상 소요 시간 / 난이도 | 필요한 리소스/도구 | 선행 작업 및 의존성 |
| --- | --- | --- | --- | --- | --- | --- | --- |
| P1 | 사용자 피드백 수집 및 분석 | 설문/인터뷰로 50건 이상 피드백 수집 및 인사이트 도출 | 2026-02-03 | 2026-02-24 | 2~3주 / 중간 | 설문 도구, 분석 템플릿 | 데이터 67개 확장, 대본 A/B 템플릿 추가 |
| P2 | 데이터 품질 재점검 프로세스 정착 | 월 1회 검증 리포트 생성 및 품질 리포팅 운영 | 2026-02-10 | 2026-02-28 | 1~2주 / 낮음 | 검증 리포트, 내보내기 기능 | 검증 리포트/내보내기 기능 완료 |

## 장기 계획 (3개월 이내)

| 우선순위 | 작업명 | 상세 설명 | 예상 시작일 | 완료 목표일 | 예상 소요 시간 / 난이도 | 필요한 리소스/도구 | 선행 작업 및 의존성 |
| --- | --- | --- | --- | --- | --- | --- | --- |
| P1 | 매칭 품질 고도화 | 거리·주요 지역 중심 정렬 개선 및 필터 옵션 확장 | 2026-03-01 | 2026-04-15 | 4~6주 / 높음 | 사용자 요구 분석, JavaScript | 사용자 피드백 수집 및 분석 |
| P2 | 데이터 범위 확장 | 치과대학 외 커뮤니티 클리닉 정보 확장 검토 | 2026-03-10 | 2026-04-27 | 4~6주 / 중간 | 데이터 수집 파트너, 리서치 | 사용자 피드백 수집 및 분석 |

---

## 프로젝트 점검 결과 (2026-01-27)

### 1. MVP 핵심 기능 구현 현황

| 기능 | 상태 | 비고 |
| --- | --- | --- |
| 협상 대본 생성기 | ✅ 완료 | A안/B안 제공, 채널별(방문/전화/문자) 최적화, 톤 조절 가능 |
| 치과대학 매칭 | ✅ 완료 | 71개 학교 데이터 (목표 67개 초과), 우편번호 기반 거리 계산, 주(State) 필터 |
| 대안 관리 가이드 | ✅ 완료 | 부분 의치, 임시 치아, 치통 응급 대처 3개 가이드 |

### 2. 추가 구현된 기능

- 비용 예측기 (시술별/지역별)
- 치과대학 예약 체크리스트 (localStorage 저장)
- 긴급도 분류 가이드
- 멤버십 플랜 탐색 템플릿
- 대체 옵션 비교표
- 진료비 항목 해석
- 교통정보 링크 생성
- 후기 태그 시스템
- 커뮤니티 이벤트 관리
- 데이터 검증/보강 도구 (검증 리포트, 백업, 변경 로그)
- 존엄성 가이드 콘텐츠

### 3. Prompt.md 요구사항 대비 미충족/개선 필요 항목

| 항목 | 현황 | 권고 조치 |
| --- | --- | --- |
| 존엄성 관련 콘텐츠 | "존엄성 메시지" 섹션 1개만 존재 | "20대 부분 틀니 관리법" 등 수치심 해결 가이드 추가 필요 |
| 커뮤니티 기능 | 이벤트 등록만 가능 | Reddit 스타일 경험 공유 기능은 미구현 (장기 과제) |
| LLM 연동 | 정적 템플릿 기반 | GPT-4 API 연동 시 맞춤 대본 생성 가능 (선택 사항) |
| 오프라인 대응 | 미구현 | Service Worker 추가 검토 필요 |

### 4. 코드 품질 점검

| 항목 | 상태 | 비고 |
| --- | --- | --- |
| 데이터 일관성 | 양호 | 71개 학교 중 연락처 확인됨 표시 |
| 에러 처리 | 양호 | 우편번호 API 실패 시 예외 처리 |
| localStorage 활용 | 양호 | 체크리스트, 태그, 오버라이드, 백업 등 저장 |
| 코드 모듈화 | 개선 여지 | 단일 app.js 파일(1500줄)로 구성, 모듈 분리 권장 |

### 5. 수정 권고사항 (우선순위별)

| 우선순위 | 항목 | 상태 | 진행 내용 |
| --- | --- | --- | --- |
| P1 | 존엄성 가이드 콘텐츠 추가 | 완료 | 존엄성 가이드 섹션에 3개 콘텐츠 추가 |
| P1 | 치과대학 저가 진료 정보 구체화 | 진행 예정 | notes 필드 기반 프로그램 정보 수집 필요 |
| P2 | 협상 대본 상황별 확장 | 완료 | 첫 방문/재방문/응급/거절 대응 시나리오 반영 |
| P2 | 모바일 반응형 검증 | 진행 예정 | 실제 디바이스 테스트 체크리스트 필요 |
| P3 | 코드 구조 리팩토링 | 진행 예정 | 스크립트/데이터/유틸 분리 계획 수립 필요 |
| P3 | PWA 지원 추가 | 진행 예정 | manifest와 서비스 워커 설계 필요 |

### 6. 개선 작업 진행 결과

- 존엄성 가이드 콘텐츠 확장 (존엄성 메시지 강화)
- 협상 대본에 상황 선택 추가 및 시나리오 문구 반영
- 대본 시나리오 테스트 케이스 작성
- 모바일 터치 타깃 및 포커스 스타일 기본 개선 적용
- 모바일 레이아웃 E2E 검증 시나리오 추가
- 접근성 점검 이슈 수정 (main landmark, select 레이블)

### 7. 테스트 케이스 및 검증 결과

| 테스트 항목 | 방법 | 결과 |
| --- | --- | --- |
| 대본 시나리오 문구 포함 여부 | node script-tests.js 실행 | 통과 |
| 브라우저 E2E 시나리오 | npm run test:e2e 실행 | 통과 |
| 모바일 레이아웃 기본 검증 | npm run test:e2e 실행 | 통과 |
| Lighthouse 접근성 점검 | npx lighthouse 실행 | 100점 |

---

## 추천 개선 작업 (2026-01-27 점검 기준)

### 즉시 적용 가능 (빠른 개선)

| 우선순위 | 작업명 | 상세 설명 | 난이도 | 구현 힌트 |
| --- | --- | --- | --- | --- |
| P1 | 대본 복사 버튼 | 생성된 A안/B안을 클립보드에 복사 | 낮음 | `navigator.clipboard.writeText()` 사용, script-card에 버튼 추가 |
| P2 | 대본 즐겨찾기 | 자주 쓰는 옵션 조합을 localStorage에 저장/불러오기 | 낮음 | 현재 선택값을 객체로 저장, 드롭다운으로 불러오기 |
| P2 | 브라우저 E2E 테스트 | Playwright/Puppeteer로 UI 동작 자동 검증 | 중간 | `npx playwright init` 후 시나리오별 테스트 작성 |

### 단기 개선 (1~2주)

| 우선순위 | 작업명 | 상세 설명 | 난이도 | 구현 힌트 |
| --- | --- | --- | --- | --- |
| P1 | 치과대학 프로그램 정보 수집 | 학교별 저가 진료 프로그램 유형, 예상 비용 범위를 notes에 추가 | 중간 | 수작업 리서치 + JSON 편집, 데이터 보강 UI 활용 |
| P2 | 모바일 UI 검증 | 터치 영역 크기(최소 44px), 폼 입력 편의성 테스트 | 낮음 | Chrome DevTools 모바일 뷰 + 실제 기기 테스트 |
| P2 | 접근성(a11y) 점검 | aria-label, 키보드 네비게이션, 색상 대비 확인 | 중간 | Lighthouse 접근성 점수 확인, axe DevTools 사용 |

### 중기 개선 (1개월)

| 우선순위 | 작업명 | 상세 설명 | 난이도 | 구현 힌트 |
| --- | --- | --- | --- | --- |
| P1 | 대본 다국어 지원 | 영어/스페인어 버전 추가 (히스패닉 커뮤니티 타겟) | 중간 | i18n 객체로 문구 분리, 언어 선택 드롭다운 추가 |
| P2 | PDF 내보내기 | 대본 + 체크리스트를 PDF로 저장 | 중간 | jsPDF 또는 html2pdf.js 라이브러리 사용 |
| P3 | 사용 통계 대시보드 | 어떤 시나리오/시술이 많이 사용되는지 분석 | 높음 | localStorage에 사용 로그 저장, 차트 라이브러리(Chart.js) 연동 |

### 장기 개선 (3개월)

| 우선순위 | 작업명 | 상세 설명 | 난이도 | 구현 힌트 |
| --- | --- | --- | --- | --- |
| P2 | PWA 오프라인 지원 | Service Worker로 기본 정보 캐싱 | 중간 | manifest.json + sw.js 작성, Workbox 활용 권장 |
| P3 | LLM 연동 맞춤 대본 | GPT-4 API로 사용자 상황에 맞는 대본 동적 생성 | 높음 | 백엔드 프록시 필요 (API 키 보호), 스트리밍 응답 처리 |
| P3 | 커뮤니티 경험 공유 | Reddit 스타일 팁 공유 기능 | 높음 | 백엔드 + DB 필요, Firebase Firestore 또는 Supabase 검토 |

---

## 추천 개선 작업 실행 계획 및 진행 추적

### 즉시 적용 작업 (우선순위 상)

| 작업명 | 담당 역할 | 예상 소요 시간 | 성공 지표 |
| --- | --- | --- | --- |
| 대본 복사 버튼 | 프론트엔드 | 0.5일 | A/B 대본 1클릭 복사 성공률 99% 이상 |
| 대본 즐겨찾기 | 프론트엔드 | 1일 | 저장/불러오기 성공률 99% 이상 |
| 브라우저 E2E 테스트 | QA/프론트엔드 | 1~2일 | 핵심 플로우 3개 시나리오 자동 통과 |

**실행 단계**
- UI 컴포넌트 추가 및 동작 연결
- 로컬 저장소 연동과 예외 흐름 정리
- 기본 시나리오 테스트 실행 및 실패 케이스 기록

### 단기 작업 (1~2주)

| 작업명 | 담당 역할 | 예상 소요 시간 | 성공 지표 |
| --- | --- | --- | --- |
| 치과대학 프로그램 정보 수집 | 데이터 리서치 | 1~2주 | 67개 학교 중 80% 이상 프로그램 정보 확보 |
| 모바일 UI 검증 | QA | 3~5일 | 주요 화면 터치 오류 0건, 이탈률 개선 |
| 접근성 점검 | 프론트엔드/QA | 1주 | Lighthouse 접근성 90점 이상 |

**실행 단계**
- 정보 수집 템플릿 정의 및 데이터 보강
- 모바일 테스트 체크리스트 적용 및 결과 리포트
- 접근성 개선 항목 리스트업 및 수정

**치과대학 프로그램 정보 수집 템플릿**
- 학교명
- 프로그램 유형 (학생/레지던트/교수/응급/전문의)
- 비용 정보 (예: 일반 치과 대비 비율, 예시 비용 범위)
- 보험/메디케이드 수용 여부
- 예약/스크리닝 방식 (전화/온라인, 첫 방문 절차)
- 접근성/특이사항 (특수환자, 언어 지원, 워크인)
- 출처 URL
- 마지막 업데이트 날짜

**모바일 UI 검증 체크리스트**
- 터치 타깃 최소 44px 충족 여부
- 버튼/셀렉트 겹침 및 줄바꿈 확인
- 가로 스크롤 발생 여부
- 입력 포커스 시 확대/스크롤 안정성
- 긴 텍스트(스크립트 출력) 가독성

**접근성 점검 체크리스트**
- 키보드 탭 이동 순서 정상 여부
- 포커스 링 시각적 대비 확보
- 폼 라벨과 입력의 연결 관계 확인
- 색 대비 최소 기준 충족 여부
- 버튼/링크 명확한 텍스트 제공

### 중기 작업 (1개월)

| 작업명 | 담당 역할 | 예상 소요 시간 | 성공 지표 |
| --- | --- | --- | --- |
| 대본 다국어 지원 | 프론트엔드/콘텐츠 | 2~3주 | 다국어 전환 오류 0건 |
| PDF 내보내기 | 프론트엔드 | 2주 | PDF 생성 성공률 98% 이상 |
| 사용 통계 대시보드 | 프론트엔드/데이터 | 3~4주 | 핵심 지표 5개 이상 시각화 |

**실행 단계**
- 언어 리소스 구조 설계 및 문구 분리
- 내보내기 흐름 설계 및 출력 검증
- 사용 로그 설계와 기본 대시보드 구축

### 진행 추적 보드

| 범주 | 작업명 | 상태 | 담당 역할 | 마지막 업데이트 | 다음 액션 |
| --- | --- | --- | --- | --- | --- |
| 즉시 | 대본 복사 버튼 | 완료 | 프론트엔드 | 2026-01-27 | 유지보수 이슈 모니터링 |
| 즉시 | 대본 즐겨찾기 | 완료 | 프론트엔드 | 2026-01-27 | 저장 한도 검토 |
| 즉시 | 브라우저 E2E 테스트 | 완료 | QA/프론트엔드 | 2026-01-27 | 시나리오 유지보수 |
| 단기 | 치과대학 프로그램 정보 수집 | 대기 | 데이터 리서치 | 2026-01-27 | 수집 템플릿 확정 |
| 단기 | 모바일 UI 검증 | 완료 | QA | 2026-01-27 | 디바이스 테스트 체크리스트 유지 |
| 단기 | 접근성 점검 | 완료 | 프론트엔드/QA | 2026-01-27 | Lighthouse 점검 유지 |
| 중기 | 대본 다국어 지원 | 완료 | 프론트엔드/콘텐츠 | 2026-01-27 | ko/en/es 문구 유지보수 |
| 중기 | PDF 내보내기 | 부분 구현 | 프론트엔드 | 2026-01-27 | 체크리스트 포함·출력 스타일 개선 |
| 중기 | 사용 통계 대시보드 | 1차 구현 | 프론트엔드/데이터 | 2026-01-27 | 차트 연동 및 지표 확장 |

---

## 오늘 작업 요약 (2026-01-27)

- 대본 다국어 지원: 한국어/영어/스페인어 선택으로 A/B 대본 생성, 생성 시 사용 통계 기록
- PDF 내보내기: 대본과 체크리스트를 함께 인쇄/저장 (브라우저 인쇄 기반 1차 구현)
- 사용 통계 대시보드: 요약 지표와 상위 항목(시술/시나리오/채널/언어 등) 표시, 초기화 기능 추가
- 치과대학 매칭 개선: 우편번호 정규화(숫자만 5자리), 로컬 캐시/TTL 도입, 검색 통계 기록
- 데이터 보강 통계: JSON 가져오기/저장/삭제/검증 완료 이벤트 카운트 기록
- 체크리스트/비용 예측 통계: 항목별 토글 및 시술/지역별 예측 카운트 기록
- 단위 테스트: script-tests.js 실행 통과(브라우저 의존 로직 가드 추가)

### 다음 액션
- 통계 대시보드 시각화(차트 라이브러리 연동) 및 지표 확장
- PDF 내보내기 출력 품질 개선(레이아웃/헤더/페이지 나눔)
- 치과대학 프로그램 정보 수집 및 notes 필드 구체화
